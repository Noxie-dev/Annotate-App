import{j as e}from"./radix-ui-Dm4GcI-M.js";import{a as t}from"./react-vendor-BxpQIQ7B.js";import{a as m,b as l,D as P,P as N}from"./pdf-vendor-BQ5_-Qxz.js";/* empty css                  */import"./utils-vendor-DzewcVAv.js";l.workerSrc=`//unpkg.com/pdfjs-dist@${m}/build/pdf.worker.mjs`;console.log("PDF.js version:",m);console.log("PDF.js worker source:",l.workerSrc);function S(){const[a,g]=t.useState(0),[r,x]=t.useState(1),[c,u]=t.useState(!0),[n,h]=t.useState(null),[p,d]=t.useState("checking..."),i="/documents/sample-report.pdf";t.useEffect(()=>{(async()=>{try{console.log("Testing PDF.js worker...");const o=await fetch(l.workerSrc);o.ok?(d("loaded"),console.log("PDF.js worker loaded successfully")):(d(`failed: ${o.status}`),console.error("PDF.js worker failed to load:",o.status))}catch(o){d(`error: ${o.message}`),console.error("PDF.js worker error:",o)}})()},[]);const j=({numPages:s})=>{console.log("PDF loaded successfully, pages:",s),g(s),u(!1),h(null)},b=s=>{console.error("PDF load error:",s),console.error("File path:",i),console.error("Error details:",{name:s.name,message:s.message,stack:s.stack}),h(`Failed to load PDF: ${s.message}`),u(!1)},f=()=>{console.log("Page loaded successfully")},k=s=>{console.error("Page load error:",s)};return e.jsx("div",{className:"min-h-screen bg-gray-900 p-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("h1",{className:"text-2xl font-bold text-white mb-6",children:"PDF Test Viewer"}),e.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-white mb-2",children:"Debug Info"}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-1",children:[e.jsxs("p",{children:["File Path: ",i]}),e.jsxs("p",{children:["PDF.js Version: ",m]}),e.jsxs("p",{children:["Worker Source: ",l.workerSrc]}),e.jsxs("p",{children:["Worker Status: ",p]}),e.jsxs("p",{children:["Loading: ",c?"Yes":"No"]}),e.jsxs("p",{children:["Error: ",n||"None"]}),e.jsxs("p",{children:["Total Pages: ",a]}),e.jsxs("p",{children:["Current Page: ",r]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 min-h-96 flex items-center justify-center",children:[c&&e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-8 h-8 border-2 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading PDF..."})]}),n&&e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-red-500 mb-4",children:e.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("p",{className:"text-red-600 font-semibold",children:"Error Loading PDF"}),e.jsx("p",{className:"text-gray-600 mt-2",children:n})]}),!c&&!n&&e.jsxs("div",{className:"text-center",children:[e.jsx(P,{file:i,onLoadSuccess:j,onLoadError:b,loading:null,error:null,children:e.jsx(N,{pageNumber:r,onLoadSuccess:f,onLoadError:k,renderTextLayer:!0,renderAnnotationLayer:!1})}),a>1&&e.jsxs("div",{className:"mt-4 flex items-center justify-center space-x-4",children:[e.jsx("button",{type:"button",onClick:()=>x(Math.max(1,r-1)),disabled:r<=1,className:"px-4 py-2 bg-blue-500 text-white rounded disabled:bg-gray-400",children:"Previous"}),e.jsxs("span",{className:"text-gray-600",children:["Page ",r," of ",a]}),e.jsx("button",{type:"button",onClick:()=>x(Math.min(a,r+1)),disabled:r>=a,className:"px-4 py-2 bg-blue-500 text-white rounded disabled:bg-gray-400",children:"Next"})]})]})]})]})})}export{S as PDFTestViewer};
