import{j as e}from"./radix-ui-Dm4GcI-M.js";import{u as $,a as c,L as f}from"./react-vendor-BxpQIQ7B.js";import{u as I,o as Z,b as B,s as x}from"./form-vendor-B0nP1T3w.js";import{t as D}from"./zod-CPQLszjv.js";import{u as M}from"./index-CeiQEl0I.js";import{s as O}from"./social-auth-B1se39b7.js";import{B as i}from"./button-BU14-tcR.js";import{I as h}from"./input-B_Pc9ca6.js";import{L as n}from"./label--JKAZs82.js";import{C as U,a as H,b as J,c as V,d as W}from"./card-BRJUXXhw.js";import{C as Y}from"./checkbox-MBTr-Qp8.js";import{A as _,a as q}from"./alert-B94VLGCJ.js";import{S as K}from"./separator-UVofwG_Y.js";import{M as v,G as Q,C as X,U as ee,L as P,E as C,a as S}from"./utils-vendor-DzewcVAv.js";import"./pdf-vendor-BQ5_-Qxz.js";import"./data-vendor-7zrJSdJt.js";const se=Z({name:x().min(2,"Name must be at least 2 characters"),email:x().email("Please enter a valid email address"),password:x().min(8,"Password must be at least 8 characters").regex(/[A-Z]/,"Password must contain at least one uppercase letter").regex(/[a-z]/,"Password must contain at least one lowercase letter").regex(/[0-9]/,"Password must contain at least one number").regex(/[^A-Za-z0-9]/,"Password must contain at least one special character"),confirmPassword:x(),acceptTerms:B().refine(l=>l===!0,"You must accept the terms and conditions")}).refine(l=>l.password===l.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function ye(){var N;const l=$(),{register:T,isLoading:m,error:y}=M(),[g,A]=c.useState(!1),[p,E]=c.useState(!1),[r,b]=c.useState(0),u=c.useRef(null),{register:o,handleSubmit:k,formState:{errors:a},setError:j,watch:F}=I({resolver:D(se),defaultValues:{acceptTerms:!1}}),d=F("password"),L=s=>{let t=0;return s.length>=8&&(t+=25),/[A-Z]/.test(s)&&(t+=25),/[a-z]/.test(s)&&(t+=25),/[0-9]/.test(s)&&(t+=12.5),/[^A-Za-z0-9]/.test(s)&&(t+=12.5),Math.min(t,100)};c.useEffect(()=>{b(d?L(d):0)},[d]),c.useEffect(()=>{u.current&&u.current.style.setProperty("--password-strength-width",`${r}%`)},[r]);const z=async s=>{try{const t={name:s.name,email:s.email,password:s.password,confirmPassword:s.confirmPassword,acceptTerms:s.acceptTerms};await T(t),l("/auth/verify-email",{state:{email:s.email},replace:!0})}catch(t){j("root",{message:t.message})}},w=async s=>{try{sessionStorage.setItem("oauth_redirect","/dashboard"),await O.initiateOAuth(s,`${window.location.origin}/auth/callback`)}catch{j("root",{message:`Failed to register with ${s}`})}},G=()=>r<25?"bg-red-500":r<50?"bg-orange-500":r<75?"bg-yellow-500":"bg-green-500",R=()=>r<25?"Weak":r<50?"Fair":r<75?"Good":"Strong";return e.jsx("div",{className:"min-h-screen bg-[#0f1419] flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-md space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-2xl font-bold text-white",children:"A"})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-200",children:"Create your account"}),e.jsx("p",{className:"text-gray-400 mt-2",children:"Join Annotator and start collaborating"})]}),e.jsxs(U,{className:"bg-[#1a1f2e] border-gray-700",children:[e.jsxs(H,{className:"space-y-1",children:[e.jsx(J,{className:"text-xl text-gray-200",children:"Sign up"}),e.jsx(V,{className:"text-gray-400",children:"Create your account to get started"})]}),e.jsxs(W,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs(i,{variant:"outline",onClick:()=>w("google"),disabled:m,className:"bg-[#0f1419] border-gray-600 text-gray-300 hover:bg-gray-800",children:[e.jsx(v,{className:"w-4 h-4 mr-2"}),"Google"]}),e.jsxs(i,{variant:"outline",onClick:()=>w("github"),disabled:m,className:"bg-[#0f1419] border-gray-600 text-gray-300 hover:bg-gray-800",children:[e.jsx(Q,{className:"w-4 h-4 mr-2"}),"GitHub"]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx(K,{className:"w-full bg-gray-600"})}),e.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:e.jsx("span",{className:"bg-[#1a1f2e] px-2 text-gray-400",children:"Or continue with"})})]}),(y||a.root)&&e.jsxs(_,{className:"bg-red-900/20 border-red-800",children:[e.jsx(X,{className:"h-4 w-4"}),e.jsx(q,{className:"text-red-300",children:y||((N=a.root)==null?void 0:N.message)})]}),e.jsxs("form",{onSubmit:k(z),className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"name",className:"text-gray-300",children:"Full Name"}),e.jsxs("div",{className:"relative",children:[e.jsx(ee,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(h,{id:"name",type:"text",placeholder:"Enter your full name",...o("name"),className:"bg-[#0f1419] border-gray-600 text-gray-200 placeholder-gray-500 pl-10"})]}),a.name&&e.jsx("p",{className:"text-sm text-red-400",children:a.name.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"email",className:"text-gray-300",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(v,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(h,{id:"email",type:"email",placeholder:"Enter your email",...o("email"),className:"bg-[#0f1419] border-gray-600 text-gray-200 placeholder-gray-500 pl-10"})]}),a.email&&e.jsx("p",{className:"text-sm text-red-400",children:a.email.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"password",className:"text-gray-300",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(P,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(h,{id:"password",type:g?"text":"password",placeholder:"Create a strong password",...o("password"),className:"bg-[#0f1419] border-gray-600 text-gray-200 placeholder-gray-500 pl-10 pr-10"}),e.jsx(i,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>A(!g),children:g?e.jsx(C,{className:"h-4 w-4 text-gray-400"}):e.jsx(S,{className:"h-4 w-4 text-gray-400"})})]}),d&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-gray-400",children:"Password strength"}),e.jsx("span",{className:`text-xs ${r>=75?"text-green-400":r>=50?"text-yellow-400":"text-red-400"}`,children:R()})]}),e.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:e.jsx("div",{ref:u,className:`password-strength-bar ${G()}`})})]}),a.password&&e.jsx("p",{className:"text-sm text-red-400",children:a.password.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"confirmPassword",className:"text-gray-300",children:"Confirm Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(P,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(h,{id:"confirmPassword",type:p?"text":"password",placeholder:"Confirm your password",...o("confirmPassword"),className:"bg-[#0f1419] border-gray-600 text-gray-200 placeholder-gray-500 pl-10 pr-10"}),e.jsx(i,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>E(!p),children:p?e.jsx(C,{className:"h-4 w-4 text-gray-400"}):e.jsx(S,{className:"h-4 w-4 text-gray-400"})})]}),a.confirmPassword&&e.jsx("p",{className:"text-sm text-red-400",children:a.confirmPassword.message})]}),e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(Y,{id:"acceptTerms",...o("acceptTerms"),className:"border-gray-600 mt-1"}),e.jsxs(n,{htmlFor:"acceptTerms",className:"text-sm text-gray-300 leading-5",children:["I agree to the"," ",e.jsx(f,{to:"/terms",className:"text-blue-400 hover:text-blue-300",children:"Terms of Service"})," ","and"," ",e.jsx(f,{to:"/privacy",className:"text-blue-400 hover:text-blue-300",children:"Privacy Policy"})]})]}),a.acceptTerms&&e.jsx("p",{className:"text-sm text-red-400",children:a.acceptTerms.message}),e.jsx(i,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white",disabled:m,children:m?e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Creating account..."]}):"Create account"})]}),e.jsx("div",{className:"text-center",children:e.jsxs("p",{className:"text-sm text-gray-400",children:["Already have an account?"," ",e.jsx(f,{to:"/auth/login",className:"text-blue-400 hover:text-blue-300",children:"Sign in"})]})})]})]})]})})}export{ye as default};
