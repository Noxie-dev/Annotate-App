import{j as e}from"./radix-ui-Dm4GcI-M.js";import{u as A,i as M,a as u,L as b}from"./react-vendor-BxpQIQ7B.js";import{u as E,o as F,s as m,b as L}from"./form-vendor-B0nP1T3w.js";import{t as P}from"./zod-CPQLszjv.js";import{u as k}from"./index-CeiQEl0I.js";import{s as T}from"./social-auth-B1se39b7.js";import{B as i}from"./button-BU14-tcR.js";import{I as n}from"./input-B_Pc9ca6.js";import{L as o}from"./label--JKAZs82.js";import{C as D,a as G,b as I,c as O,d as B}from"./card-BRJUXXhw.js";import{C as H}from"./checkbox-MBTr-Qp8.js";import{A as R,a as $}from"./alert-B94VLGCJ.js";import{S as q}from"./separator-UVofwG_Y.js";import{M as z,G as V,C as W,E as _,a as J}from"./utils-vendor-DzewcVAv.js";import"./pdf-vendor-BQ5_-Qxz.js";import"./data-vendor-7zrJSdJt.js";const K=F({email:m().email("Please enter a valid email address"),password:m().min(1,"Password is required"),rememberMe:L().optional(),mfaCode:m().optional()});function de(){var p;const f=A(),[y]=M(),{login:j,isLoading:t,error:d}=k(),[c,N]=u.useState(!1),[w,v]=u.useState(!1),x=y.get("redirect")||"/dashboard",{register:l,handleSubmit:C,formState:{errors:s},setError:h}=E({resolver:P(K),defaultValues:{rememberMe:!1}}),S=async a=>{try{const r={email:a.email,password:a.password,rememberMe:a.rememberMe||!1,mfaCode:a.mfaCode};await j(r),f(x,{replace:!0})}catch(r){r.message.includes("MFA")?v(!0):h("root",{message:r.message})}},g=async a=>{try{sessionStorage.setItem("oauth_redirect",x),await T.initiateOAuth(a,`${window.location.origin}/auth/callback`)}catch{h("root",{message:`Failed to sign in with ${a}`})}};return e.jsx("div",{className:"min-h-screen bg-[#0f1419] flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-md space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-2xl font-bold text-white",children:"A"})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-200",children:"Welcome back"}),e.jsx("p",{className:"text-gray-400 mt-2",children:"Sign in to your Annotator account"})]}),e.jsxs(D,{className:"bg-[#1a1f2e] border-gray-700",children:[e.jsxs(G,{className:"space-y-1",children:[e.jsx(I,{className:"text-xl text-gray-200",children:"Sign in"}),e.jsx(O,{className:"text-gray-400",children:"Enter your credentials to access your account"})]}),e.jsxs(B,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs(i,{variant:"outline",onClick:()=>g("google"),disabled:t,className:"bg-[#0f1419] border-gray-600 text-gray-300 hover:bg-gray-800",children:[e.jsx(z,{className:"w-4 h-4 mr-2"}),"Google"]}),e.jsxs(i,{variant:"outline",onClick:()=>g("github"),disabled:t,className:"bg-[#0f1419] border-gray-600 text-gray-300 hover:bg-gray-800",children:[e.jsx(V,{className:"w-4 h-4 mr-2"}),"GitHub"]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx(q,{className:"w-full bg-gray-600"})}),e.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:e.jsx("span",{className:"bg-[#1a1f2e] px-2 text-gray-400",children:"Or continue with"})})]}),(d||s.root)&&e.jsxs(R,{className:"bg-red-900/20 border-red-800",children:[e.jsx(W,{className:"h-4 w-4"}),e.jsx($,{className:"text-red-300",children:d||((p=s.root)==null?void 0:p.message)})]}),e.jsxs("form",{onSubmit:C(S),className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"email",className:"text-gray-300",children:"Email"}),e.jsx(n,{id:"email",type:"email",placeholder:"Enter your email",...l("email"),className:"bg-[#0f1419] border-gray-600 text-gray-200 placeholder-gray-500"}),s.email&&e.jsx("p",{className:"text-sm text-red-400",children:s.email.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"password",className:"text-gray-300",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(n,{id:"password",type:c?"text":"password",placeholder:"Enter your password",...l("password"),className:"bg-[#0f1419] border-gray-600 text-gray-200 placeholder-gray-500 pr-10"}),e.jsx(i,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>N(!c),children:c?e.jsx(_,{className:"h-4 w-4 text-gray-400"}):e.jsx(J,{className:"h-4 w-4 text-gray-400"})})]}),s.password&&e.jsx("p",{className:"text-sm text-red-400",children:s.password.message})]}),w&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"mfaCode",className:"text-gray-300",children:"Two-Factor Authentication Code"}),e.jsx(n,{id:"mfaCode",type:"text",placeholder:"Enter 6-digit code",...l("mfaCode"),className:"bg-[#0f1419] border-gray-600 text-gray-200 placeholder-gray-500",maxLength:6}),s.mfaCode&&e.jsx("p",{className:"text-sm text-red-400",children:s.mfaCode.message})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(H,{id:"rememberMe",...l("rememberMe"),className:"border-gray-600"}),e.jsx(o,{htmlFor:"rememberMe",className:"text-sm text-gray-300",children:"Remember me"})]}),e.jsx(b,{to:"/auth/forgot-password",className:"text-sm text-blue-400 hover:text-blue-300",children:"Forgot password?"})]}),e.jsx(i,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white",disabled:t,children:t?e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Signing in..."]}):"Sign in"})]}),e.jsx("div",{className:"text-center",children:e.jsxs("p",{className:"text-sm text-gray-400",children:["Don't have an account?"," ",e.jsx(b,{to:"/auth/register",className:"text-blue-400 hover:text-blue-300",children:"Sign up"})]})})]})]})]})})}export{de as default};
